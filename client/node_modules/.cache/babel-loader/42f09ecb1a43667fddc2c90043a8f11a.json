{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Adrian/Documents/web102/web102_final/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Adrian/Documents/web102/web102_final/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Adrian/Documents/web102/web102_final/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Adrian/Documents/web102/web102_final/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Adrian/Documents/web102/web102_final/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./CreatePost.css';import{supabase}from'../client.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePost=function CreatePost(){var _useState=useState({title:\"\",content:\"\",image_url:\"\"}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];console.log('post: ',post);var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;console.log(\"Name: \",name,\" value: \",value);setPost(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var createPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$supabase$from$,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return supabase.from(\"hub\").insert({title:post.title,content:post.content,image_url:post.image_url}).select();case 3:_yield$supabase$from$=_context.sent;data=_yield$supabase$from$.data;error=_yield$supabase$from$.error;console.log(data);console.log(error);window.location=\"/\";case 9:case\"end\":return _context.stop();}}},_callee);}));return function createPost(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",id:\"title\",name:\"title\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Content\",id:\"content\",name:\"content\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Image URL\",id:\"image_url\",name:\"image_url\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Post\",onClick:createPost})]})});};export default CreatePost;","map":{"version":3,"names":["React","useState","supabase","CreatePost","title","content","image_url","post","setPost","console","log","handleChange","event","target","name","value","prev","createPost","preventDefault","from","insert","select","data","error","window","location"],"sources":["C:/Users/Adrian/Documents/web102/web102_final/client/src/pages/CreatePost.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './CreatePost.css';\r\nimport { supabase } from '../client.js';\r\n\r\nconst CreatePost = () => {\r\n    const [post, setPost] = useState({ title: \"\", content: \"\", image_url: \"\"});\r\n    console.log('post: ', post);\r\n\r\n    const handleChange = (event) => {\r\n        const {name, value} = event.target;\r\n        console.log(\"Name: \", name, \" value: \", value);\r\n        setPost( (prev) => {\r\n            return {\r\n                ...prev,\r\n                [name]:value,\r\n            }\r\n        })\r\n    }\r\n\r\n    const createPost = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const { data, error } = await \r\n        supabase.from(\"hub\").insert({\r\n            title: post.title,\r\n            content: post.content,\r\n            image_url: post.image_url,\r\n        })\r\n        .select();\r\n        console.log(data);\r\n        console.log(error);\r\n        window.location = \"/\";\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <form>\r\n                <input type=\"text\" placeholder=\"Title\" id=\"title\" name=\"title\" onChange={handleChange} /><br />\r\n                <br/>\r\n\r\n                <input type=\"text\" placeholder=\"Content\" id=\"content\" name=\"content\" onChange={handleChange}/><br />\r\n                <br/>\r\n\r\n                <input type=\"text\" placeholder=\"Image URL\" id=\"image_url\" name=\"image_url\" onChange={handleChange}/><br />\r\n                <br/>\r\n                <input type=\"submit\" value=\"Create Post\" onClick={createPost}/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost;"],"mappings":"msBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,kBAAP,CACA,OAASC,QAAT,KAAyB,cAAzB,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACrB,cAAwBF,QAAQ,CAAC,CAAEG,KAAK,CAAE,EAAT,CAAaC,OAAO,CAAE,EAAtB,CAA0BC,SAAS,CAAE,EAArC,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACAC,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBH,IAAtB,EAEA,GAAMI,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC5B,kBAAsBA,KAAK,CAACC,MAA5B,CAAOC,IAAP,eAAOA,IAAP,CAAaC,KAAb,eAAaA,KAAb,CACAN,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBI,IAAtB,CAA4B,UAA5B,CAAwCC,KAAxC,EACAP,OAAO,CAAE,SAACQ,IAAD,CAAU,CACf,sCACOA,IADP,wBAEKF,IAFL,CAEWC,KAFX,GAIH,CALM,CAAP,CAMH,CATD,CAWA,GAAME,WAAU,4FAAG,iBAAOL,KAAP,yJACfA,KAAK,CAACM,cAAN,GADe,sBAIfhB,SAAQ,CAACiB,IAAT,CAAc,KAAd,EAAqBC,MAArB,CAA4B,CACxBhB,KAAK,CAAEG,IAAI,CAACH,KADY,CAExBC,OAAO,CAAEE,IAAI,CAACF,OAFU,CAGxBC,SAAS,CAAEC,IAAI,CAACD,SAHQ,CAA5B,EAKCe,MALD,EAJe,4CAGPC,IAHO,uBAGPA,IAHO,CAGDC,KAHC,uBAGDA,KAHC,CAUfd,OAAO,CAACC,GAAR,CAAYY,IAAZ,EACAb,OAAO,CAACC,GAAR,CAAYa,KAAZ,EACAC,MAAM,CAACC,QAAP,CAAkB,GAAlB,CAZe,sDAAH,kBAAVR,WAAU,4CAAhB,CAeA,mBACI,kCACI,qCACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,OAA/B,CAAuC,EAAE,CAAC,OAA1C,CAAkD,IAAI,CAAC,OAAvD,CAA+D,QAAQ,CAAEN,YAAzE,EADJ,cAC6F,aAD7F,cAEI,aAFJ,cAII,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,SAA/B,CAAyC,EAAE,CAAC,SAA5C,CAAsD,IAAI,CAAC,SAA3D,CAAqE,QAAQ,CAAEA,YAA/E,EAJJ,cAIkG,aAJlG,cAKI,aALJ,cAOI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,WAA/B,CAA2C,EAAE,CAAC,WAA9C,CAA0D,IAAI,CAAC,WAA/D,CAA2E,QAAQ,CAAEA,YAArF,EAPJ,cAOwG,aAPxG,cAQI,aARJ,cASI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,aAA3B,CAAyC,OAAO,CAAEM,UAAlD,EATJ,GADJ,EADJ,CAeH,CA7CD,CA+CA,cAAed,WAAf"},"metadata":{},"sourceType":"module"}